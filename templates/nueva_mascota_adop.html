{% extends "layout.html" %}

{% block title %}
Mascota en adopción
{% endblock %}

{% block main %}
<div class="container-fluid">
    <div class="content mb-3">
        <div class="row">
            <!-- Un solo card para toda la información -->
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header m-2">
                        <h3 class="text-center">Datos de la mascota</h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Columna de la información de la mascota -->
                            <div class="col-md-8">
                                <form class="mascotaForm" action="/nueva_mascota_adop" method="post"
                                    enctype="multipart/form-data">
                                    <div class="row">
                                        <div class="col-xl-6 mb-3">
                                            <label for="nombre">Nombre de la mascota</label>
                                            <input type="text" class="form-control" id="nombre" name="nombre_mascota"
                                                placeholder="Nombre de la mascota" required>
                                        </div>
                                        <div class="col-xl-6 mb-3">
                                            <label for="raza">Tipo de mascota</label>
                                            <select class="form-control" id="tipo_mascota_id" name="tipo_mascota_id" required>
            
                                            </select>
                                        </div>
                                        <div class="col-xl-6 mb-3">
                                            <label for="raza">Raza</label>
                                            <select class="form-control" id="raza_mascota_id" name="raza_mascota_id" required>
                                            </select>
                                        </div>

                                        <div class="col-xl-6 mb-3">
                                            <label for="fechaNacimiento">Fecha de Nacimiento</label>
                                            <input type="date" class="form-control" id="fechaNacimiento"
                                                name="fecha_nacimiento" required>
                                        </div>

                                        <div class="col-xl-2 mb-3">
                                            <label for="tamaño">Tamaño (m)</label>
                                            <input type="text" class="form-control" id="tamaño" name="tamano_mascota_metros"
                                                placeholder="Tamaño" required>
                                        </div>

                                        <div class="col-xl-2 mb-3">
                                            <label for="peso">Peso (kg)</label>
                                            <input type="text" class="form-control" id="peso" name="peso_mascota_kg"
                                                placeholder="Peso" required>
                                        </div>

                                        <div class="col-xl-3 mb-3">
                                            <label for="color">Color</label>
                                            <input type="text" class="form-control" id="color" name="color_mascota"
                                                placeholder="Color" required>
                                        </div>

                                        <div class="col-xl-5 mb-3">
                                            <label for="procedencia">Procedencia</label>
                                            <select class="form-control" id="procedencia" name="procedencia_id" required>
                                                <option disabled="" selected="" value="">Seleccione el origen</option>
                                                {% for item in procedencias %}
                                                <option value="{{item['id']}}">{{item['nombre_opcion_procedencia']}}</option>
                                                {% endfor %}
                                            </select>
                                        </div>

                                        <div class="col-xl-12 mb-1">
                                            <label for="comentario">Información adicional</label>
                                            <input class="form-control mb-3" type="text"
                                                placeholder="Información adicional sobre la mascota" name="descripcion">
                                        </div>
                                    </div>
                            </div>

                            <!-- Columna para la foto de la mascota -->
                            <div class="col-md-4">
                                <img id="img-preview" class="img-fluid mx-auto d-block mb-2">
                                <label for="file">Seleccionar foto: <i class="fa fa-upload"></i></label>
                                <input class="form-control mb-4" type="file" name="foto" id="img-uploader" accept="image/*">
                                <progress id="img-upload-bar" value="0" max="100"></progress>
                            </div>                            

                            <div class="col-xl-12 form-group" align="center">
                                <button class="btn btn-primary" type="submit">Poner en adopción</button>
                            </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const mascotas_razas = {{ tipos_mascotas_razas|safe }};
    depending_selects(mascotas_razas, 'tipo_mascota_id','raza_mascota_id');
</script>
{% endblock %}